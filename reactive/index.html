<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>reactive</title>
  </head>
  <body>
    <div id="app2"></div>
    <div id="app3"></div>
  </body>
  <script type="module">
    //建议使用vscode 插件 Live Server 启动
    import { reactive } from "./js/reactive.js";
    import { effect } from "./js/effect.js";
    // effect(function(){
    //   //副作用函数
    //   ...
    // },
    // {
    // schedulerfun(fn){
    //   //effect函数，控制当前副作用函数执行时机
    //   setTimeout(function(){
    //     fn()
    //   },0)
    // }})
    const data = {
      foo: true,
      bar: true,
    };
    let dataReactive = reactive(data);
    let temp1, temp2;
    effect(
      function effectFn1() {
        temp1 = dataReactive.foo;
      },
      {
        scheduler(fn) {
          console.log("scheduler");
          fn();
        },
      }
    );
    dataReactive.foo = false;
  </script>
</html>
